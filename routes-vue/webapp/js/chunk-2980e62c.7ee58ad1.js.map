{"version":3,"sources":["webpack:///./src/views/AddRoute.vue?e49d","webpack:///./src/services/RouteDataService.ts","webpack:///./src/views/AddRoute.vue?1ef8","webpack:///./src/views/AddRoute.vue?ee2e","webpack:///./src/views/AddRoute.vue?3ea1","webpack:///./src/views/AddRoute.vue","webpack:///./src/services/DataService.ts"],"names":["http","routes","RouteDataService","parse","parseRoutes","distance","querySpec","create","x","element","ExactDistance","post","get","float","name","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","errorTitle","errorMessage","directives","rawName","modifiers","_e","errorDescription","submitted","on","newRoute","value","route","expression","domProps","$event","target","composing","$set","coordinates","from","to","saveRoute","staticRenderFns","makeEmptyRoute","id","then","response","console","log","catch","e","handleError","remote","status","statusText","message","stackTrace","stack","$bvModal","show","component","DataService","_http","_url","_entityCtor","_collectionCtor","data","toXmlSpecElement","bind","put","delete","filter","sort","pageSize","pageNum","encodeURIComponent"],"mappings":"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","file":"js/chunk-2980e62c.7ee58ad1.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddRoute.vue?vue&type=style&index=0&id=29952e49&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddRoute.vue?vue&type=style&index=0&id=29952e49&scoped=true&lang=css&\"","import { AxiosResponse } from 'axios';\r\nimport httpCtx from \"./HttpContext\";\r\nimport DataService from './DataService';\r\nimport { OperationStatusInfo, RouteInfo, RoutesInfo } from './DataEntities';\r\nimport xml from './XmlUtils';\r\n\r\nconst http = httpCtx.routes;\r\n\r\nclass RouteDataService extends DataService<RouteInfo, RoutesInfo> {\r\n\r\n  public constructor() {\r\n    super(http, '/routes', RouteInfo.parse, RoutesInfo.parseRoutes);\r\n  }\r\n\r\n  delOneByDst(distance: number): Promise<OperationStatusInfo> {\r\n    // var querySpec = `<?xml version=\"1.0\" encoding=\"UTF-8\" ?><DeleteRouteByDistanceSpec ExactDistance=\"${distance}\" xmlns=\"main.webapp.xml\" />`;\r\n    const querySpec = xml.create(x => x.element('DeleteRouteByDistanceSpec', { ExactDistance: distance }))\r\n    return http.post(\"/routes?action=del-by-dst\", querySpec, OperationStatusInfo.parse);\r\n  }\r\n\r\n  getSummaryDst(): Promise<number> {\r\n    return http.get(\"/routes?action=get-dst\", x => x.float('/m:DistanceSumQueryResult/@Value'));\r\n  }\r\n\r\n  getByName(name: string): Promise<RoutesInfo> {\r\n    return http.get(`/routes?action=get-by-name&name=${name}`, RoutesInfo.parseRoutes);\r\n  }\r\n}\r\n\r\nexport default new RouteDataService();\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"submit-form\"},[_c('div',[_c('b-modal',{attrs:{\"id\":\"modalPopover\",\"size\":\"xl\",\"title\":\"Error occured\",\"ok-only\":\"\"}},[_c('p',[_c('label',[_c('strong',[_vm._v(_vm._s(_vm.errorTitle))])]),_c('pre',[_vm._v(_vm._s(_vm.errorMessage))]),(_vm.errorDescription)?_c('b-button',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-3\",modifiers:{\"collapse-3\":true}}],staticClass:\"page-link button-small\"},[_vm._v(\"Details\")]):_vm._e(),_c('b-collapse',{attrs:{\"id\":\"collapse-3\"}},[_c('b-card',[_c('pre',[_vm._v(_vm._s(_vm.errorDescription))])])],1)],1)])],1),(!_vm.submitted)?_c('div',[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(\"Name\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.route.name),expression:\"route.name\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"minlength\":\"1\",\"placeholder\":\"string\",\"id\":\"name\",\"required\":\"\",\"name\":\"name\"},domProps:{\"value\":(_vm.route.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.route, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"distance\"}},[_vm._v(\"Distance\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.route.distance),expression:\"route.distance\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"min\":\"2\",\"id\":\"distance\",\"placeholder\":\"long > 1\",\"required\":\"\",\"name\":\"distance\"},domProps:{\"value\":(_vm.route.distance)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.route, \"distance\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"coordX\"}},[_vm._v(\"Coordinate X\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.route.coordinates.x),expression:\"route.coordinates.x\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"max\":\"241\",\"id\":\"coordX\",\"placeholder\":\"integer <= 241\",\"required\":\"\",\"name\":\"coordX\"},domProps:{\"value\":(_vm.route.coordinates.x)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.route.coordinates, \"x\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"coordY\"}},[_vm._v(\"Coordinate Y\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.route.coordinates.y),expression:\"route.coordinates.y\"}],staticClass:\"form-control\",attrs:{\"type\":\"decimal\",\"max\":\"180\",\"id\":\"coordY\",\"placeholder\":\"double <= 180\",\"required\":\"\",\"name\":\"coordY\"},domProps:{\"value\":(_vm.route.coordinates.y)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.route.coordinates, \"y\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"fromLocX\"}},[_vm._v(\"Source location X\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.route.from.x),expression:\"route.from.x\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"fromLocX\",\"placeholder\":\"integer\",\"required\":\"\",\"name\":\"fromLocX\"},domProps:{\"value\":(_vm.route.from.x)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.route.from, \"x\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"fromLocY\"}},[_vm._v(\"Source location Y\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.route.from.y),expression:\"route.from.y\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"fromLocY\",\"placeholder\":\"integer\",\"name\":\"fromLocY\"},domProps:{\"value\":(_vm.route.from.y)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.route.from, \"y\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"fromLocZ\"}},[_vm._v(\"Source location Z\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.route.from.z),expression:\"route.from.z\"}],staticClass:\"form-control\",attrs:{\"type\":\"decimal\",\"id\":\"fromLocZ\",\"placeholder\":\"float\",\"required\":\"\",\"name\":\"fromLocZ\"},domProps:{\"value\":(_vm.route.from.z)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.route.from, \"z\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"toLocX\"}},[_vm._v(\"Destination location X\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.route.to.x),expression:\"route.to.x\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"toLocX\",\"placeholder\":\"integer\",\"required\":\"\",\"name\":\"toLocX\"},domProps:{\"value\":(_vm.route.to.x)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.route.to, \"x\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"toLocY\"}},[_vm._v(\"Destination location Y\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.route.to.y),expression:\"route.to.y\"}],staticClass:\"form-control\",attrs:{\"type\":\"number\",\"id\":\"toLocY\",\"placeholder\":\"integer\",\"name\":\"toLocY\"},domProps:{\"value\":(_vm.route.to.y)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.route.to, \"y\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"toLocZ\"}},[_vm._v(\"Destination location Z\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.route.to.z),expression:\"route.to.z\"}],staticClass:\"form-control\",attrs:{\"type\":\"decimal\",\"id\":\"toLocZ\",\"placeholder\":\"float\",\"required\":\"\",\"name\":\"toLocZ\"},domProps:{\"value\":(_vm.route.to.z)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.route.to, \"z\", $event.target.value)}}})]),_c('button',{staticClass:\"btn btn-success\",on:{\"click\":_vm.saveRoute}},[_vm._v(\"Submit\")])]):_c('div',[_c('h4',[_vm._v(\"You submitted successfully!\")]),_c('button',{staticClass:\"btn btn-success\",on:{\"click\":_vm.newRoute}},[_vm._v(\"Add\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { RouteInfo } from \"@/services/DataEntities\";\r\nimport { Component, Vue } from \"vue-property-decorator\";\r\nimport RouteDataService from \"../services/RouteDataService\";\r\n\r\n@Component\r\nexport default class AddRoute extends Vue {\r\n  public route = RouteInfo.makeEmptyRoute();\r\n  public errorTitle = '';\r\n  public errorMessage = '';\r\n  public errorDescription = '';\r\n\r\n  private submitted: boolean = false;\r\n\r\n  saveRoute() {\r\n    //this.route.id = 1;\r\n    this.route.from.id = 1;\r\n    this.route.to.id = 1;\r\n    RouteDataService.create(this.route)\r\n      .then((response) => {\r\n        this.route = response;\r\n        console.log(response);\r\n        this.submitted = true;\r\n      })\r\n      .catch((e) => {\r\n        this.handleError(e);\r\n      });\r\n  }\r\n\r\n  newRoute() {\r\n    this.submitted = false;\r\n    this.route = RouteInfo.makeEmptyRoute();\r\n  }\r\n\r\n  mounted(){\r\n    this.newRoute();\r\n  }\r\n\r\n  handleError(e:any){\r\n    console.log(e);\r\n    if (e.remote) {\r\n      this.errorTitle = `${e.response.status} ${e.response.statusText}`;\r\n      this.errorMessage = e.remote.message;\r\n      this.errorDescription = e.remote.stackTrace;\r\n    } else {\r\n      this.errorTitle = \"Unexpected error\";\r\n      this.errorMessage = e.message;\r\n      this.errorDescription = e.stack;\r\n    }\r\n    this.$bvModal.show('modalPopover')\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddRoute.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--13-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddRoute.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddRoute.vue?vue&type=template&id=29952e49&scoped=true&\"\nimport script from \"./AddRoute.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddRoute.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddRoute.vue?vue&type=style&index=0&id=29952e49&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29952e49\",\n  null\n  \n)\n\nexport default component.exports","import xml, { IXmlEntity, XmlElement, XmlElementFabric, XmlNode } from './XmlUtils';\r\nimport { HttpContext } from './HttpContext';\r\nimport { AxiosResponse } from 'axios';\r\n\r\nexport interface IEntityCreationSpec {\r\n    toXmlSpecElement(x: XmlElementFabric) : XmlElement;\r\n}\r\n\r\nexport default class DataService<T extends IXmlEntity ,TT> {\r\n\r\n    public constructor (\r\n        protected readonly _http: HttpContext,\r\n        protected readonly _url: string,\r\n        protected readonly _entityCtor: (x: XmlNode) => T,\r\n        protected readonly _collectionCtor: (x: XmlNode) => TT\r\n    ) {\r\n    }\r\n\r\n    getAll(): Promise<TT> {\r\n        return this._http.get(this._url, this._collectionCtor);\r\n    }\r\n\r\n    get(id: number): Promise<T> {\r\n        return this._http.get(this._url + `/${id}`, this._entityCtor);\r\n    }\r\n\r\n    create(data: IEntityCreationSpec): Promise<T> {\r\n        return this._http.post(this._url + \"?action=add\", xml.create(data.toXmlSpecElement.bind(data)), this._entityCtor);\r\n    }\r\n\r\n    update(data: T): Promise<AxiosResponse> {\r\n        return this._http.put(this._url + `/${data.id}`, data);\r\n    }\r\n\r\n    delete(id: number): Promise<AxiosResponse> {\r\n        return this._http.delete(this._url + `/${id}`);\r\n    }\r\n\r\n    findByParams(filter?: string, sort?: string, pageSize?: number, pageNum?: number): Promise<TT> {\r\n        return this._http.get(\r\n            this._url + `?filter=${filter ? encodeURIComponent(filter) : ''}&sort=${sort ? encodeURIComponent(sort) : ''}`\r\n                      + `&page-size=${pageSize ? encodeURIComponent(pageSize) : ''}&page-num=${pageNum ? encodeURIComponent(pageNum) : ''}`,\r\n            this._collectionCtor\r\n        );\r\n    }\r\n}\r\n"],"sourceRoot":""}